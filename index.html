<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux Master Quiz</title>
    <style>
        :root {
            --primary-green: #4CAF50;
            --dark-green: #388E3C;
            --light-green: #C8E6C9;
            --accent-green: #81C784;
            --text-dark: #333;
            --text-light: #f5f5f5;
            --error-red: #f44336;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f9f9f9;
            color: var(--text-dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            background-color: var(--primary-green);
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .logo img {
            margin-right: 10px;
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .nav-links a:hover {
            background-color: var(--dark-green);
        }

        /* Auth Forms */
        .auth-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 200;
            justify-content: center;
            align-items: center;
        }

        .auth-form {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .auth-form h2 {
            margin-bottom: 20px;
            color: var(--primary-green);
            text-align: center;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .auth-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .auth-buttons button {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
        }

        .submit-btn {
            background-color: var(--primary-green);
            color: white;
        }

        .submit-btn:hover {
            background-color: var(--dark-green);
        }

        .cancel-btn {
            background-color: #f5f5f5;
            color: var(--text-dark);
        }

        .cancel-btn:hover {
            background-color: #e0e0e0;
        }

        /* Dashboard */
        .dashboard {
            display: flex;
            gap: 30px;
            margin-top: 30px;
        }

        .user-profile {
            flex: 1;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .quizzes-section {
            flex: 3;
        }

        .quiz-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .quiz-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .quiz-card h3 {
            color: var(--primary-green);
            margin-bottom: 10px;
        }

        .quiz-card p {
            margin-bottom: 15px;
            color: #666;
        }

        .btn {
            display: inline-block;
            padding: 8px 16px;
            background-color: var(--primary-green);
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s;
            cursor: pointer;
        }

        .btn:hover {
            background-color: var(--dark-green);
        }

        .btn-secondary {
            background-color: #757575;
        }

        .btn-secondary:hover {
            background-color: #616161;
        }

        /* Quiz Styles */
        .quiz-container {
            display: none;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .quiz-progress {
            font-weight: 500;
            color: var(--primary-green);
        }

        .quiz-timer {
            background-color: var(--light-green);
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: 500;
        }

        .question-container {
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
        }

        .option:hover {
            background-color: var(--light-green);
        }

        .option.selected {
            background-color: var(--accent-green);
            border-color: var(--primary-green);
        }

        .option.correct {
            background-color: var(--primary-green);
            color: white;
            border-color: var(--dark-green);
        }

        .option.incorrect {
            background-color: var(--error-red);
            color: white;
            border-color: #c62828;
        }

        .explanation {
            margin-top: 10px;
            padding: 10px;
            background-color: #f5f5f5;
            border-left: 4px solid var(--primary-green);
            display: none;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        /* Result Page */
        .result-container {
            display: none;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            text-align: center;
        }

        .result-header {
            margin-bottom: 20px;
        }

        .result-header h2 {
            color: var(--primary-green);
            margin-bottom: 10px;
        }

        .result-score {
            font-size: 2rem;
            font-weight: 700;
            margin: 20px 0;
            color: var(--primary-green);
        }

        .result-details {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
        }

        .result-stat {
            flex: 1;
            padding: 15px;
        }

        .correct-stat {
            color: var(--primary-green);
        }

        .wrong-stat {
            color: var(--error-red);
        }

        .result-actions {
            margin-top: 30px;
        }

        /* Loading Indicator */
        .loader {
            display: none;
            text-align: center;
            margin: 30px 0;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--light-green);
            border-top: 4px solid var(--primary-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .dashboard {
                flex-direction: column;
            }

            .nav-links {
                display: none;
            }

            .result-details {
                flex-direction: column;
            }
        }

        /* Footer */
        footer {
            background-color: var(--primary-green);
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 50px;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">
                    <img src="https://placehold.co/30x30" alt="Linux penguin mascot logo" width="30" height="30">
                    <span>Linux Quiz Master</span>
                </div>
                <div class="nav-links">
                    <a href="#" id="home-link">Home</a>
                    <a href="#" id="quizzes-link">Available Quizzes</a>
                    <a href="#" id="login-link">Login</a>
                    <a href="#" id="register-link">Register</a>
                    <span id="welcome-message" style="display: none;"></span>
                    <a href="#" id="logout-link" style="display: none;">Logout</a>
                </div>
            </nav>
        </div>
    </header>

    <div class="auth-container" id="login-container">
        <div class="auth-form">
            <h2>Login</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-username">Username</label>
                    <input type="text" id="login-username" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <div class="auth-buttons">
                    <button type="button" class="cancel-btn" id="login-cancel">Cancel</button>
                    <button type="submit" class="submit-btn">Login</button>
                </div>
            </form>
        </div>
    </div>

    <div class="auth-container" id="register-container">
        <div class="auth-form">
            <h2>Register</h2>
            <form id="register-form">
                <div class="form-group">
                    <label for="register-username">Username</label>
                    <input type="text" id="register-username" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">Password</label>
                    <input type="password" id="register-password" required>
                </div>
                <div class="auth-buttons">
                    <button type="button" class="cancel-btn" id="register-cancel">Cancel</button>
                    <button type="submit" class="submit-btn">Register</button>
                </div>
            </form>
        </div>
    </div>

    <div class="container">
        <div id="home-section">
            <h1>Welcome to Linux Quiz Master</h1>
            <p>Test your knowledge of Linux with our comprehensive quiz featuring 40 multiple-choice questions.</p>
            
            <div class="dashboard" id="dashboard">
                <div class="user-profile" id="user-profile" style="display: none;">
                    <h2>User Profile</h2>
                    <p id="profile-username"></p>
                    <p id="profile-email"></p>
                    <div id="profile-scores">
                        <h3>Your Scores</h3>
                        <ul id="score-list"></ul>
                    </div>
                </div>
                
                <div class="quizzes-section">
                    <h2>Available Quizzes</h2>
                    <div class="quiz-card">
                        <h3>Linux Basics</h3>
                        <p>Test your fundamental knowledge of Linux commands and concepts with 40 multiple-choice questions.</p>
                        <a href="#" class="btn" id="start-quiz">Start Quiz</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="loader" id="quiz-loader">
            <div class="spinner"></div>
            <p>Loading quiz...</p>
        </div>

        <div class="quiz-container" id="quiz-section">
            <div class="quiz-header">
                <div class="quiz-progress" id="quiz-progress">Question 1 of 40</div>
                <div class="quiz-timer" id="quiz-timer">Time left: 20:00</div>
            </div>
            
            <div class="question-container">
                <h3 class="question-text" id="question-text"></h3>
                <div class="options-container" id="options-container"></div>
                <div class="explanation" id="explanation"></div>
            </div>
            
            <div class="quiz-navigation">
                <button class="btn btn-secondary" id="prev-question" disabled>Previous</button>
                <button class="btn" id="next-question">Next</button>
                <button class="btn" id="submit-quiz" style="display: none;">Submit Quiz</button>
            </div>
        </div>

        <div class="result-container" id="result-section">
            <div class="result-header">
                <h2>Quiz Completed!</h2>
                <p>Here's how you did on the Linux Basics quiz:</p>
            </div>
            
            <div class="result-score" id="result-score"></div>
            
            <div class="result-details">
                <div class="result-stat correct-stat">
                    <h3>Correct Answers</h3>
                    <p id="correct-answers">0</p>
                </div>
                <div class="result-stat wrong-stat">
                    <h3>Wrong Answers</h3>
                    <p id="wrong-answers">0</p>
                </div>
            </div>
            
            <div class="result-actions">
                <button class="btn" id="review-quiz">Review Quiz</button>
                <button class="btn btn-secondary" id="try-again">Try Again</button>
                <button class="btn" id="home-button">Go to Home</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2023 Linux Quiz Master. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // User authentication variables
        let currentUser = null;
        let users = JSON.parse(localStorage.getItem('quizUsers')) || [];
        let scores = JSON.parse(localStorage.getItem('quizScores')) || {};

        // Quiz variables
        let quizQuestions = [];
        let currentQuestionIndex = 0;
        let selectedAnswers = new Array(40).fill(null);
        let correctAnswers = 0;
        let quizTimer;
        let timeLeft = 1200; // 20 minutes in seconds

        // DOM elements
        const homeSection = document.getElementById('home-section');
        const quizSection = document.getElementById('quiz-section');
        const resultSection = document.getElementById('result-section');
        const quizLoader = document.getElementById('quiz-loader');
        const loginContainer = document.getElementById('login-container');
        const registerContainer = document.getElementById('register-container');
        const loginLink = document.getElementById('login-link');
        const registerLink = document.getElementById('register-link');
        const logoutLink = document.getElementById('logout-link');
        const welcomeMessage = document.getElementById('welcome-message');
        const userProfile = document.getElementById('user-profile');
        const profileUsername = document.getElementById('profile-username');
        const profileEmail = document.getElementById('profile-email');
        const scoreList = document.getElementById('score-list');
        const startQuizBtn = document.getElementById('start-quiz');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const explanation = document.getElementById('explanation');
        const quizProgress = document.getElementById('quiz-progress');
        const quizTimerElement = document.getElementById('quiz-timer');
        const prevQuestionBtn = document.getElementById('prev-question');
        const nextQuestionBtn = document.getElementById('next-question');
        const submitQuizBtn = document.getElementById('submit-quiz');
        const resultScore = document.getElementById('result-score');
        const correctAnswersElement = document.getElementById('correct-answers');
        const wrongAnswersElement = document.getElementById('wrong-answers');
        const reviewQuizBtn = document.getElementById('review-quiz');
        const tryAgainBtn = document.getElementById('try-again');
        const homeButton = document.getElementById('home-button');

        // Initialize the quiz questions
        function initializeQuizQuestions() {
            quizQuestions = [
                {
                    question: "What command is used to list files and directories in Linux?",
                    options: ["ls", "dir", "list", "show"],
                    correctAnswer: 0,
                    explanation: "The 'ls' command is used to list files and directories in Linux."
                },
                {
                    question: "Which command is used to change the current directory in Linux?",
                    options: ["cd", "change", "chdir", "move"],
                    correctAnswer: 0,
                    explanation: "The 'cd' command changes the current working directory."
                },
                {
                    question: "What does the 'pwd' command do?",
                    options: [
                        "Prints the working directory",
                        "Prints system information",
                        "Changes directory permissions",
                        "Displays process information"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'pwd' command prints the current working directory."
                },
                {
                    question: "Which command is used to create a new directory?",
                    options: ["mkdir", "makedir", "newdir", "createdir"],
                    correctAnswer: 0,
                    explanation: "The 'mkdir' command creates a new directory."
                },
                {
                    question: "What command is used to display manual pages for other commands?",
                    options: ["man", "help", "info", "doc"],
                    correctAnswer: 0,
                    explanation: "The 'man' command displays manual pages ('man pages') for other commands."
                },
                {
                    question: "Which command is used to remove files in Linux?",
                    options: ["rm", "delete", "erase", "remove"],
                    correctAnswer: 0,
                    explanation: "The 'rm' command is used to remove files."
                },
                {
                    question: "What does the 'cp' command do?",
                    options: [
                        "Copies files and directories",
                        "Compares files",
                        "Compresses files",
                        "Changes permissions"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'cp' command copies files and directories."
                },
                {
                    question: "Which command is used to move or rename files?",
                    options: ["mv", "rename", "mov", "change"],
                    correctAnswer: 0,
                    explanation: "The 'mv' command moves or renames files."
                },
                {
                    question: "What does the 'chmod' command do?",
                    options: [
                        "Changes file permissions",
                        "Changes file ownership",
                        "Changes directory structure",
                        "Changes system configuration"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'chmod' command changes file permissions."
                },
                {
                    question: "Which command displays the contents of a file?",
                    options: ["cat", "display", "show", "print"],
                    correctAnswer: 0,
                    explanation: "The 'cat' command displays the contents of a file."
                },
                {
                    question: "What does the 'grep' command do?",
                    options: [
                        "Searches for patterns in files",
                        "Groups files by type",
                        "Graphs system performance",
                        "Generates reports"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'grep' command searches for patterns in files."
                },
                {
                    question: "Which command is used to find files and directories?",
                    options: ["find", "locate", "search", "look"],
                    correctAnswer: 0,
                    explanation: "The 'find' command searches for files and directories."
                },
                {
                    question: "What does the 'ps' command do?",
                    options: [
                        "Displays running processes",
                        "Prints system status",
                        "Changes process priority",
                        "Starts a new process"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'ps' command displays information about active processes."
                },
                {
                    question: "Which command is used to terminate processes?",
                    options: ["kill", "stop", "end", "terminate"],
                    correctAnswer: 0,
                    explanation: "The 'kill' command sends signals to processes to terminate them."
                },
                {
                    question: "What does the 'df' command show?",
                    options: [
                        "Disk space usage",
                        "Directory structure",
                        "File sizes",
                        "System uptime"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'df' command displays disk space usage."
                },
                {
                    question: "Which command displays memory usage?",
                    options: ["free", "mem", "memory", "meminfo"],
                    correctAnswer: 0,
                    explanation: "The 'free' command displays memory usage information."
                },
                {
                    question: "What is the purpose of the 'tar' command?",
                    options: [
                        "Archives files",
                        "Lists directory contents",
                        "Edits text files",
                        "Manages disk partitions"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'tar' command is used to create and manipulate archive files."
                },
                {
                    question: "Which command compresses files with gzip compression?",
                    options: ["gzip", "zip", "compress", "squeeze"],
                    correctAnswer: 0,
                    explanation: "The 'gzip' command compresses files using gzip compression."
                },
                {
                    question: "What does the 'ssh' command do?",
                    options: [
                        "Connects to remote systems securely",
                        "Shares files between systems",
                        "Synchronizes system time",
                        "Scans system hardware"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'ssh' command provides secure remote login and other network services."
                },
                {
                    question: "Which command updates package lists on Debian-based systems?",
                    options: ["apt-get update", "apt update", "apt-get refresh", "apt refresh"],
                    correctAnswer: 0,
                    explanation: "The 'apt-get update' command updates the package lists on Debian-based systems."
                },
                {
                    question: "What does the 'ifconfig' command do?",
                    options: [
                        "Displays network interface configuration",
                        "Configures firewall rules",
                        "Manages IP routing tables",
                        "Tests network connectivity"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'ifconfig' command displays and configures network interfaces."
                },
                {
                    question: "Which command is used to test network connectivity?",
                    options: ["ping", "connect", "net", "test"],
                    correctAnswer: 0,
                    explanation: "The 'ping' command tests network connectivity between hosts."
                },
                {
                    question: "What does the 'top' command display?",
                    options: [
                        "System process information",
                        "Disk usage statistics",
                        "Network connections",
                        "Memory allocation details"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'top' command displays system process information and resource usage."
                },
                {
                    question: "Which command changes file ownership?",
                    options: ["chown", "own", "changeown", "setowner"],
                    correctAnswer: 0,
                    explanation: "The 'chown' command changes file ownership."
                },
                {
                    question: "What is the purpose of the 'wget' command?",
                    options: [
                        "Downloads files from the web",
                        "Displays web pages",
                        "Writes files",
                        "Counts words in a file"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'wget' command downloads files from the web."
                },
                {
                    question: "Which command displays current date and time?",
                    options: ["date", "time", "now", "datetime"],
                    correctAnswer: 0,
                    explanation: "The 'date' command displays the current date and time."
                },
                {
                    question: "What does the 'uname' command do?",
                    options: [
                        "Displays system information",
                        "Lists all users",
                        "Creates unique filenames",
                        "Changes usernames"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'uname' command displays basic system information."
                },
                {
                    question: "Which command is used to view the end of a file?",
                    options: ["tail", "end", "last", "rear"],
                    correctAnswer: 0,
                    explanation: "The 'tail' command displays the last part of files."
                },
                {
                    question: "What is the purpose of the 'history' command?",
                    options: [
                        "Shows command history",
                        "Displays system history",
                        "Records system events",
                        "Shows user login history"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'history' command displays the command history for the current user."
                },
                {
                    question: "Which command clears the terminal screen?",
                    options: ["clear", "cls", "clean", "reset"],
                    correctAnswer: 0,
                    explanation: "The 'clear' command clears the terminal screen."
                },
                {
                    question: "What does the 'sort' command do?",
                    options: [
                        "Sorts lines of text files",
                        "Organizes files by date",
                        "Lists files in sorted order",
                        "Searches sorted data"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'sort' command sorts lines of text files."
                },
                {
                    question: "Which command counts lines, words, and characters in a file?",
                    options: ["wc", "count", "lnum", "sum"],
                    correctAnswer: 0,
                    explanation: "The 'wc' command counts lines, words, and characters in files."
                },
                {
                    question: "What is the purpose of the 'diff' command?",
                    options: [
                        "Compares files line by line",
                        "Displays file differences",
                        "Shows disk differences",
                        "Differentiates commands"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'diff' command compares files line by line."
                },
                {
                    question: "Which command displays a calendar?",
                    options: ["cal", "calendar", "datecal", "showcal"],
                    correctAnswer: 0,
                    explanation: "The 'cal' command displays a calendar."
                },
                {
                    question: "What does the 'ln' command do?",
                    options: [
                        "Creates file links",
                        "Lists files numerically",
                        "Creates numbered lists",
                        "Links network connections"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'ln' command creates links between files."
                },
                {
                    question: "Which command displays information about commands?",
                    options: ["which", "what", "info", "command"],
                    correctAnswer: 0,
                    explanation: "The 'which' command displays information about commands."
                },
                {
                    question: "What is the purpose of the 'alias' command?",
                    options: [
                        "Creates command shortcuts",
                        "Lists all aliases",
                        "Changes command names",
                        "Allocates system aliases"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'alias' command creates shortcuts for other commands."
                },
                {
                    question: "Which command shows the current user?",
                    options: ["whoami", "who", "user", "me"],
                    correctAnswer: 0,
                    explanation: "The 'whoami' command prints the current user's username."
                },
                {
                    question: "What does the 'passwd' command do?",
                    options: [
                        "Changes user password",
                        "Displays passwords",
                        "Stores passwords",
                        "Generates passwords"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'passwd' command changes user passwords."
                },
                {
                    question: "Which command displays disk usage by directory?",
                    options: ["du", "diskuse", "usage", "dspace"],
                    correctAnswer: 0,
                    explanation: "The 'du' command estimates disk usage by directory."
                },
                {
                    question: "What is the purpose of the 'echo' command?",
                    options: [
                        "Displays text on the screen",
                        "Repeats commands",
                        "Echoes keyboard input",
                        "Creates sound output"
                    ],
                    correctAnswer: 0,
                    explanation: "The 'echo' command displays text on the screen."
                },
                {
                    question: "Which command lists logged-in users?",
                    options: ["who", "users", "loggedin", "sessions"],
                    correctAnswer: 0,
                    explanation: "The 'who' command lists all logged-in users."
                }
            ];
        }

        // Initialize the application
        function initApp() {
            initializeQuizQuestions();
            checkLoggedInUser();
            setupEventListeners();
        }

        // Check if user is logged in
        function checkLoggedInUser() {
            const loggedInUser = localStorage.getItem('quizCurrentUser');
            if (loggedInUser) {
                currentUser = JSON.parse(loggedInUser);
                updateUIForLoggedInUser();
            }
        }

        // Update UI when user is logged in
        function updateUIForLoggedInUser() {
            loginLink.style.display = 'none';
            registerLink.style.display = 'none';
            logoutLink.style.display = 'block';
            welcomeMessage.style.display = 'inline';
            welcomeMessage.textContent = `Welcome, ${currentUser.username}`;
            userProfile.style.display = 'block';
            profileUsername.textContent = `Username: ${currentUser.username}`;
            profileEmail.textContent = `Email: ${currentUser.email}`;
            updateScoreList();
        }

        // Update UI when user logs out
        function updateUIForLoggedOutUser() {
            loginLink.style.display = 'block';
            registerLink.style.display = 'block';
            logoutLink.style.display = 'none';
            welcomeMessage.style.display = 'none';
            userProfile.style.display = 'none';
        }

        // Update the score list in user profile
        function updateScoreList() {
            if (!currentUser) return;
            
            scoreList.innerHTML = '';
            const userScores = scores[currentUser.username] || [];
            
            if (userScores.length === 0) {
                const li = document.createElement('li');
                li.textContent = 'No quiz attempts yet';
                scoreList.appendChild(li);
                return;
            }
            
            userScores.forEach((score, index) => {
                const li = document.createElement('li');
                li.textContent = `Attempt ${index + 1}: ${score.score}% (${score.correct}/${score.total}) - ${new Date(score.date).toLocaleString()}`;
                scoreList.appendChild(li);
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Auth related
            loginLink.addEventListener('click', (e) => {
                e.preventDefault();
                loginContainer.style.display = 'flex';
            });
            
            registerLink.addEventListener('click', (e) => {
                e.preventDefault();
                registerContainer.style.display = 'flex';
            });
            
            logoutLink.addEventListener('click', (e) => {
                e.preventDefault();
                logoutUser();
            });
            
            document.getElementById('login-cancel').addEventListener('click', () => {
                loginContainer.style.display = 'none';
            });
            
            document.getElementById('register-cancel').addEventListener('click', () => {
                registerContainer.style.display = 'none';
            });
            
            document.getElementById('login-form').addEventListener('submit', (e) => {
                e.preventDefault();
                loginUser();
            });
            
            document.getElementById('register-form').addEventListener('submit', (e) => {
                e.preventDefault();
                registerUser();
            });
            
            // Quiz related
            startQuizBtn.addEventListener('click', (e) => {
                e.preventDefault();
                startQuiz();
            });
            
            prevQuestionBtn.addEventListener('click', () => {
                navigateQuestion(-1);
            });
            
            nextQuestionBtn.addEventListener('click', () => {
                navigateQuestion(1);
            });
            
            submitQuizBtn.addEventListener('click', () => {
                submitQuiz();
            });
            
            reviewQuizBtn.addEventListener('click', () => {
                reviewQuiz();
            });
            
            tryAgainBtn.addEventListener('click', () => {
                tryAgain();
            });
            
            homeButton.addEventListener('click', () => {
                showHome();
            });
        }

        // User login function
        function loginUser() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            
            const user = users.find(u => u.username === username && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('quizCurrentUser', JSON.stringify(currentUser));
                loginContainer.style.display = 'none';
                updateUIForLoggedInUser();
                
                // Clear login form
                document.getElementById('login-form').reset();
            } else {
                alert('Invalid username or password');
            }
        }

        // User registration function
        function registerUser() {
            const username = document.getElementById('register-username').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            
            // Simple validation
            if (!username || !email || !password) {
                alert('Please fill in all fields');
                return;
            }
            
            // Check if username exists
            const usernameExists = users.some(u => u.username === username);
            if (usernameExists) {
                alert('Username already exists');
                return;
            }
            
            // Create new user
            const newUser = {
                username,
                email,
                password
            };
            
            users.push(newUser);
            localStorage.setItem('quizUsers', JSON.stringify(users));
            
            // Login the new user
            currentUser = newUser;
            localStorage.setItem('quizCurrentUser', JSON.stringify(currentUser));
            registerContainer.style.display = 'none';
            updateUIForLoggedInUser();
            
            // Clear registration form
            document.getElementById('register-form').reset();
        }

        // User logout function
        function logoutUser() {
            currentUser = null;
            localStorage.removeItem('quizCurrentUser');
            updateUIForLoggedOutUser();
        }

        // Start quiz function
        function startQuiz() {
            homeSection.style.display = 'none';
            quizLoader.style.display = 'block';
            
            // Simulate loading time
            setTimeout(() => {
                quizLoader.style.display = 'none';
                quizSection.style.display = 'block';
                startTimer();
                displayQuestion(0);
            }, 1000);
        }

        // Start quiz timer
        function startTimer() {
            updateTimerDisplay();
            quizTimer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(quizTimer);
                    submitQuiz();
                }
            }, 1000);
        }

        // Update timer display
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            quizTimerElement.textContent = `Time left: ${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // Display question
        function displayQuestion(index) {
            if (index < 0 || index >= quizQuestions.length) return;
            
            currentQuestionIndex = index;
            const question = quizQuestions[index];
            
            // Update question text
            questionText.textContent = question.question;
            
            // Update options
            optionsContainer.innerHTML = '';
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (selectedAnswers[index] === i) {
                    optionElement.classList.add('selected');
                }
                optionElement.textContent = option;
                optionElement.dataset.index = i;
                optionElement.addEventListener('click', () => selectOption(i));
                optionsContainer.appendChild(optionElement);
            });
            
            // Update explanation (hidden by default)
            explanation.textContent = question.explanation;
            explanation.style.display = 'none';
            
            // Update progress
            quizProgress.textContent = `Question ${index + 1} of ${quizQuestions.length}`;
            
            // Update navigation buttons
            prevQuestionBtn.disabled = index === 0;
            
            if (index === quizQuestions.length - 1) {
                nextQuestionBtn.style.display = 'none';
                submitQuizBtn.style.display = 'block';
            } else {
                nextQuestionBtn.style.display = 'block';
                submitQuizBtn.style.display = 'none';
            }
        }

        // Select option
        function selectOption(optionIndex) {
            // Clear previous selection
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.classList.remove('selected');
            });
            
            // Select clicked option
            options[optionIndex].classList.add('selected');
            selectedAnswers[currentQuestionIndex] = optionIndex;
        }

        // Navigate between questions
        function navigateQuestion(direction) {
            const newIndex = currentQuestionIndex + direction;
            if (newIndex >= 0 && newIndex < quizQuestions.length) {
                displayQuestion(newIndex);
            }
        }

        // Submit quiz
        function submitQuiz() {
            clearInterval(quizTimer);
            
            // Calculate score
            correctAnswers = 0;
            quizQuestions.forEach((question, index) => {
                if (selectedAnswers[index] === question.correctAnswer) {
                    correctAnswers++;
                }
            });
            
            // Show results
            displayResults();
            
            // Save score if user is logged in
            if (currentUser) {
                saveScore();
            }
        }

        // Display results
        function displayResults() {
            quizSection.style.display = 'none';
            resultSection.style.display = 'block';
            
            const percentage = Math.round((correctAnswers / quizQuestions.length) * 100);
            const wrongAnswers = quizQuestions.length - correctAnswers;
            
            resultScore.textContent = `${percentage}%`;
            correctAnswersElement.textContent = correctAnswers;
            wrongAnswersElement.textContent = wrongAnswers;
        }

        // Save score
        function saveScore() {
            if (!currentUser) return;
            
            const percentage = Math.round((correctAnswers / quizQuestions.length) * 100);
            const userScore = {
                username: currentUser.username,
                score: percentage,
                correct: correctAnswers,
                total: quizQuestions.length,
                date: new Date().toISOString()
            };
            
            if (!scores[currentUser.username]) {
                scores[currentUser.username] = [];
            }
            
            scores[currentUser.username].push(userScore);
            localStorage.setItem('quizScores', JSON.stringify(scores));
            
            // Update score list
            updateScoreList();
        }

        // Review quiz
        function reviewQuiz() {
            resultSection.style.display = 'none';
            quizSection.style.display = 'block';
            
            // Display first question with answers shown
            displayQuestionWithAnswers(0);
        }

        // Display question with answers
        function displayQuestionWithAnswers(index) {
            if (index < 0 || index >= quizQuestions.length) return;
            
            currentQuestionIndex = index;
            const question = quizQuestions[index];
            
            // Update question text
            questionText.textContent = question.question;
            
            // Update options
            optionsContainer.innerHTML = '';
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                
                if (selectedAnswers[index] === i && selectedAnswers[index] === question.correctAnswer) {
                    optionElement.classList.add('correct');
                } else if (selectedAnswers[index] === i && selectedAnswers[index] !== question.correctAnswer) {
                    optionElement.classList.add('incorrect');
                } else if (i === question.correctAnswer) {
                    optionElement.classList.add('correct');
                }
                
                optionElement.textContent = option;
                optionsContainer.appendChild(optionElement);
            });
            
            // Update explanation
            explanation.textContent = question.explanation;
            explanation.style.display = 'block';
            
            // Update progress
            quizProgress.textContent = `Question ${index + 1} of ${quizQuestions.length}`;
            
            // Update navigation buttons for review
            prevQuestionBtn.disabled = index === 0;
            prevQuestionBtn.textContent = 'Previous';
            
            if (index === quizQuestions.length - 1) {
                nextQuestionBtn.style.display = 'none';
                submitQuizBtn.style.display = 'none';
                prevQuestionBtn.textContent = 'Back to Results';
            } else {
                nextQuestionBtn.style.display = 'block';
                nextQuestionBtn.textContent = 'Next';
                submitQuizBtn.style.display = 'none';
            }
            
            // Special handling for "Back to Results" button
            if (index === quizQuestions.length - 1) {
                prevQuestionBtn.onclick = () => {
                    quizSection.style.display = 'none';
                    resultSection.style.display = 'block';
                };
            } else {
                prevQuestionBtn.onclick = () => {
                    navigateQuestionInReview(-1);
                };
            }
            
            nextQuestionBtn.onclick = () => {
                navigateQuestionInReview(1);
            };
        }

        // Navigate in review mode
        function navigateQuestionInReview(direction) {
            const newIndex = currentQuestionIndex + direction;
            if (newIndex >= 0 && newIndex < quizQuestions.length) {
                displayQuestionWithAnswers(newIndex);
            }
        }

        // Try again function
        function tryAgain() {
            // Reset quiz variables
            selectedAnswers = new Array(40).fill(null);
            timeLeft = 1200;
            
            // Show quiz again
            resultSection.style.display = 'none';
            quizSection.style.display = 'block';
            
            // Reset timer and start quiz
            startTimer();
            displayQuestion(0);
        }

        // Show home function
        function showHome() {
            quizSection.style.display = 'none';
            resultSection.style.display = 'none';
            homeSection.style.display = 'block';
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
